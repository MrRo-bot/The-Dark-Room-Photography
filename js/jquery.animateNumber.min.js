(function (i) {
  var d = function (a) {
      return a.split("").reverse().join("");
    },
    c = {
      numberStep: function (c, b) {
        var a = Math.floor(c);
        i(b.elem).text(a);
      },
    },
    a = function (d) {
      var b = d.elem;
      b.nodeType &&
        b.parentNode &&
        ((b = b._animateNumberSetter), b || (b = c.numberStep), b(d.now, d));
    };
  i.Tween && i.Tween.propHooks
    ? (i.Tween.propHooks.number = {
        set: a,
      })
    : (i.fx.step.number = a),
    (i.animateNumber = {
      numberStepFactories: {
        append: function (c) {
          return function (b, a) {
            var d = Math.floor(b);
            i(a.elem)
              .prop("number", b)
              .text(d + c);
          };
        },
        separator: function (f, j, o) {
          return (
            (f = f || " "),
            (j = j || 3),
            (o = o || ""),
            function (a, b) {
              var e = 0 > a,
                k = Math.floor((e ? -1 : 1) * a).toString(),
                r = i(b.elem);
              if (k.length > j) {
                for (
                  var n,
                    u,
                    v,
                    w = k,
                    x = j,
                    y = w.split("").reverse(),
                    k = [],
                    m = 0,
                    z = Math.ceil(w.length / x);
                  m < z;
                  m++
                ) {
                  for (
                    n = "", v = 0;
                    v < x && ((u = m * x + v), u !== w.length);
                    v++
                  )
                    n += y[u];
                  k.push(n);
                }
                (w = k.length - 1),
                  (x = d(k[w])),
                  (k[w] = d(parseInt(x, 10).toString())),
                  (k = k.join(f)),
                  (k = d(k));
              }
              r.prop("number", a).text((e ? "-" : "") + k + o);
            }
          );
        },
      },
    }),
    (i.fn.animateNumber = function () {
      for (
        var d = arguments[0],
          b = i.extend({}, c, d),
          a = i(this),
          e = [b],
          f = 1,
          h = arguments.length;
        f < h;
        f++
      )
        e.push(arguments[f]);
      if (d.numberStep) {
        var g = this.each(function () {
            this._animateNumberSetter = d.numberStep;
          }),
          j = b.complete;
        b.complete = function () {
          g.each(function () {
            delete this._animateNumberSetter;
          }),
            j && j.apply(this, arguments);
        };
      }
      return a.animate.apply(a, e);
    });
})(jQuery);
